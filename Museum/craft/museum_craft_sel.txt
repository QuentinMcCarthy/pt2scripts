EG11c2V1bV9jcmFmdF9zZWwBAAAABWtleS56AQAAABJ0b3duLndpbmRvdy5pc29wZW4IY29uc3RhbnQEBm11c2V1bQQAAAANbG9jYWwuaW50LnNldAhjb25zdGFudAQDZWxlDmFyaXRobWV0aWMuaW50DnN0cmluZy5pbmRleE9mCGNvbnN0YW50BGBuYXR1cmUgICAgICBmaXJlICAgICAgICBlYXJ0aCAgICAgICB3YXRlciAgICAgICBsaWdodCAgICAgICBhaXIgICAgICAgICBlbGVjdHJpY2l0eSBkYXJrbmVzcyAgICARZ2xvYmFsLnN0cmluZy5nZXQIY29uc3RhbnQEB211c19lbGUIY29uc3RhbnQCAAAAAAhjb25zdGFudAQBLwhjb25zdGFudAIMAAAADWxvY2FsLmludC5zZXQIY29uc3RhbnQEA2VsZQt0ZXJuYXJ5LmludA5jb21wYXJpc29uLmludA5hcml0aG1ldGljLmludA1sb2NhbC5pbnQuZ2V0CGNvbnN0YW50BANlbGUIY29uc3RhbnQEASsIY29uc3RhbnQCAQAAAAhjb25zdGFudAQBPghjb25zdGFudAIHAAAACGNvbnN0YW50AgAAAAAOYXJpdGhtZXRpYy5pbnQNbG9jYWwuaW50LmdldAhjb25zdGFudAQDZWxlCGNvbnN0YW50BAErCGNvbnN0YW50AgEAAAARZ2xvYmFsLnN0cmluZy5zZXQIY29uc3RhbnQEB211c19lbGUJc3Vic3RyaW5nCGNvbnN0YW50BGBuYXR1cmUgICAgICBmaXJlICAgICAgICBlYXJ0aCAgICAgICB3YXRlciAgICAgICBsaWdodCAgICAgICBhaXIgICAgICAgICBlbGVjdHJpY2l0eSBkYXJrbmVzcyAgICAOYXJpdGhtZXRpYy5pbnQNbG9jYWwuaW50LmdldAhjb25zdGFudAQDZWxlCGNvbnN0YW50BAEqCGNvbnN0YW50AgwAAAAIY29uc3RhbnQCDAAAABFnbG9iYWwuc3RyaW5nLnNldAhjb25zdGFudAQHbXVzX2VsZQlzdWJzdHJpbmcRZ2xvYmFsLnN0cmluZy5nZXQIY29uc3RhbnQEB211c19lbGUIY29uc3RhbnQCAAAAAA5zdHJpbmcuaW5kZXhPZhFnbG9iYWwuc3RyaW5nLmdldAhjb25zdGFudAQHbXVzX2VsZQhjb25zdGFudAQBIAhjb25zdGFudAIAAAAA

:global string mus_ele
:local int ele

; element table macro to compare against
#eletable "nature      fire        earth       water       light       air         electricity darkness    "

key.z()

isopen("museum")

; Selection of element is done via number for easier coding
; 0 fire, 1 earth, 2 water, 3 light, 4 air, 5 electricity, 6 darkness, 7 nature
; Convert each element to an index using eletable defined in macro
ele = (index({eletable}, mus_ele, 0)) / 12

; Increment the index by 1, if doing so would exceed max index of 7, revert to 0
ele = if((ele + 1) > 7, 0, ele + 1)

; Convert the index back into a readable string
mus_ele = sub({eletable}, ele * 12, 12)

; Remove any trailing spaces
mus_ele = sub(mus_ele, 0, index(mus_ele, " ", 0))